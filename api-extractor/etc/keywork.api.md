## API Report File for "keywork"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="@cloudflare/workers-types" />

import type { AssetManifestType } from '@cloudflare/kv-asset-handler/dist/types';
import { ErrorResponse } from '@keywork/utils';
import { FC } from 'react';
import type { HtmlHTMLAttributes } from 'react';
import { HTMLResponse } from '@keywork/utils';
import { HydrationOptions } from 'react-dom/client';
import { KeyworkResourceError } from '@keywork/utils';
import { PathMatch } from 'keywork';
import { PathPattern } from '@keywork/utils';
import { PathPattern as PathPattern_2 } from 'keywork';
import { PrefixedLogger } from '@keywork/utils';
import { ReactDOMServerReadableStream } from 'react-dom/server';
import type { ReactFragment } from 'react';
import { ReactNode } from 'react';
import { RenderToReadableStreamOptions } from 'react-dom/server';
import { Root } from 'react-dom/client';

export { AssetManifestType }

// @public
export function createContextAndNamedHook<T>(
defaultValue?: T | undefined,
displayName?: string): readonly [React.Context<T | undefined>, <V = T>() => NonNullable<V>];

// @public (undocumented)
export const DEFAULT_SESSION_COOKIE_KEY = "_keyworkSessionID";

// @public (undocumented)
export type DefaultWorkerBindings = WorkersSiteStaticContentBinding | WorkersPagesAssetsBinding;

// @public
export type EnvironmentBindingKinds = WorkerEnvFetchBinding | KVNamespace | DurableObjectNamespace;

// @public (undocumented)
export function getSSRPropsFromScope<SSRProps extends SSRPropsLike>(globalScope: unknown): SSRProps;

// @public
export type GetStaticPropsHandler<
/** The static props returned by the handler. */
StaticProps extends {} | null, BoundAliases extends {} | null = null, AdditionalData extends {} | null = null> = (
data: IncomingRequestData<BoundAliases>,
additionalData?: AdditionalData) => StaticProps | Promise<StaticProps>;

// @public (undocumented)
export function globalScopeHasSSRProps<SSRProps extends SSRPropsLike>(globalScope: unknown): globalScope is GlobalScopeWithKeyworkSSRProps<SSRProps>;

// @public (undocumented)
export type GlobalScopeSSRKey = typeof globalScopeSSRKey;

// @public
export const globalScopeSSRKey = "__ keywork_ssr_props";

// @public (undocumented)
export interface GlobalScopeWithKeyworkSSRProps<SSRProps extends SSRPropsLike = SSRPropsLike> extends Record<GlobalScopeSSRKey, SSRProps> {
    // (undocumented)
    document?: unknown;
    // (undocumented)
    location: URL;
}

// @public (undocumented)
export type _HTTPMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | 'HEAD' | 'OPTIONS';

// @public
export function hydrateKeyworkApp(initialChildren: ReactNode, options?: HydrateKeyworkAppOptions): Root;

// @public (undocumented)
export interface HydrateKeyworkAppOptions {
    // (undocumented)
    globalScope?: GlobalScopeWithKeyworkSSRProps;
    // (undocumented)
    reactHydrationOptions?: HydrationOptions;
    // (undocumented)
    rootID?: string;
}

// @public
export interface IncomingRequestData<BoundAliases extends {} | null = null> {
    readonly context: ExecutionContext;
    readonly env: BoundAliases extends null ? DefaultWorkerBindings : BoundAliases & DefaultWorkerBindings;
    readonly request: RequestWithCFProperties;
    // @beta
    readonly session: KeyworkSession;
    readonly url: URL;
}

// @public
export type IncomingRequestDataHandler<BoundAliases extends {} | null> = (
data: IncomingRequestData<BoundAliases>) => Response | Promise<Response>;

// @beta
export class KeyworkAssetHandler extends KeyworkRequestHandler<WorkersSiteStaticContentBinding> {
    constructor(rawAssetManifest: string);
    // (undocumented)
    protected assetManifest: AssetManifestType;
    // (undocumented)
    onRequestGet: ({ env, request, context }: IncomingRequestData<WorkersSiteStaticContentBinding>) => Promise<Response>;
}

// @public (undocumented)
export interface KeyworkBrowserRouterProps {
    // (undocumented)
    patternToPageComponent: PatternToPageComponentMap<any>;
}

// @public
export const KeyworkHTMLDocument: KeyworkHTMLDocumentComponent;

// @public (undocumented)
export type KeyworkHTMLDocumentComponent = FC<KeyworkHTMLDocumentProps>;

// @public (undocumented)
export interface KeyworkHTMLDocumentProps {
    // (undocumented)
    browserIdentifier?: string;
    // (undocumented)
    buildId?: string;
    // (undocumented)
    children: ReactNode;
    // (undocumented)
    className?: string;
    // (undocumented)
    htmlAttributes?: HtmlHTMLAttributes<HTMLHtmlElement>;
    link?: ReactFragment;
    // (undocumented)
    location: URL;
    meta?: ReactFragment;
    // (undocumented)
    moduleManifest?: string[];
    script?: ReactFragment;
    style?: ReactFragment;
    title?: string;
}

// @public (undocumented)
export const KeyworkPatternToPageComponent: FC<KeyworkBrowserRouterProps>;

// @public (undocumented)
export const KeyworkProviders: KeyworkProvidersComponent;

// @public
export type KeyworkProvidersComponent = FC<ProviderWrapperProps>;

// @public
export abstract class KeyworkRequestHandler<BoundAliases extends {} | null = null, StaticProps extends SSRPropsLike = null> extends _KeyworkRequestHandlerBase<BoundAliases> {
    protected DocumentComponent?: KeyworkHTMLDocumentComponent;
    // @internal
    protected _getHandlerForMethod(method: _HTTPMethod): IncomingRequestDataHandler<BoundAliases>;
    getStaticProps?: (data: IncomingRequestData<BoundAliases>) => PossiblePromise<StaticProps>;
    // @internal (undocumented)
    protected _handlerPrefersReactRenderer(): boolean;
    // @internal (undocumented)
    protected _onRequestGetReactComponent(data: IncomingRequestData<BoundAliases>): Promise<HTMLResponse>;
    protected PageComponent?: FC<StaticProps>;
    protected Providers?: KeyworkProvidersComponent;
}

// @public
export abstract class _KeyworkRequestHandlerBase<BoundAliases extends {} | null = null> {
    protected fetch(
    request: Request,
    env: BoundAliases,
    context: ExecutionContext): Promise<Response> | Response;
    // @internal
    protected _getHandlerForMethod(method: _HTTPMethod): IncomingRequestDataHandler<BoundAliases>;
    logger: PrefixedLogger;
    // @internal (undocumented)
    protected _onInvalidRequest: ({ request }: IncomingRequestData<BoundAliases>) => ErrorResponse;
    onRequest: IncomingRequestDataHandler<BoundAliases>;
    onRequestDelete: IncomingRequestDataHandler<BoundAliases>;
    onRequestGet: IncomingRequestDataHandler<BoundAliases>;
    onRequestHead: IncomingRequestDataHandler<BoundAliases>;
    onRequestOptions: IncomingRequestDataHandler<BoundAliases>;
    onRequestPatch: IncomingRequestDataHandler<BoundAliases>;
    onRequestPost: IncomingRequestDataHandler<BoundAliases>;
    onRequestPut: IncomingRequestDataHandler<BoundAliases>;
    static pattern: PathPattern<string> | string;
    // @deprecated (undocumented)
    protected readonly pattern: never;
}

// @public (undocumented)
export const KeyworkRouter: FC<KeyworkRouterProps>;

// @public (undocumented)
export interface KeyworkRouterProps {
    // (undocumented)
    children: ReactNode;
    // (undocumented)
    initialLocation: URL;
}

// @public (undocumented)
export interface KeyworkRouterProvider {
    // (undocumented)
    location: URL;
}

// @beta
export class KeyworkSession {
    constructor(request: Request, cookieKey?: string);
    // (undocumented)
    assignSessionHeaders(headers: Headers): void;
    // (undocumented)
    cookieKey: string;
    // (undocumented)
    readonly isNewSession: boolean;
    // (undocumented)
    sessionID: string;
}

// @public (undocumented)
export function matchRoute(patternToPageComponent: PatternToPageComponentMap<any>, location: URL): PathMatch<    {} | null> | null;

// @public
export class PatternToPageComponentMap<StaticProps extends SSRPropsLike> extends Map<PathPattern_2 | string, React.ComponentType<StaticProps>> {
}

// @public
export type PossiblePromise<T> = T | Promise<T>;

// @public (undocumented)
export interface ProviderWrapperProps {
    // (undocumented)
    children: ReactNode;
}

// @public (undocumented)
export interface ReactRenderStreamErrorResult {
    // (undocumented)
    error: KeyworkResourceError;
    // (undocumented)
    stream: ReactDOMServerReadableStream;
}

// @public (undocumented)
export type ReactRenderStreamResult = ReactRenderStreamSuccessResult | ReactRenderStreamErrorResult;

// @public (undocumented)
export interface ReactRenderStreamSuccessResult {
    // (undocumented)
    error: null;
    // (undocumented)
    stream: ReactDOMServerReadableStream;
}

// @public
export class RedirectHandler extends KeyworkRequestHandler {
    constructor(
    destinationURL: string | URL,
    statusCode?: number);
    destinationURL: string | URL;
    // (undocumented)
    onRequest: ({ request }: IncomingRequestData) => Response;
    statusCode: number;
}

// @public (undocumented)
export function renderReactStream(children: ReactNode, options?: RenderToReadableStreamOptions): Promise<ReactRenderStreamResult>;

// @public (undocumented)
export function renderStaticPropsAsComponentStream<StaticProps extends NonNullable<SSRPropsLike>>(request: Request, staticProps: StaticProps,
PageComponent: FC<StaticProps>, DocumentComponent?: KeyworkHTMLDocumentComponent, Providers?: KeyworkProvidersComponent): Promise<Response>;

// @public (undocumented)
export function renderStaticPropsAsJSON(request: Request, staticProps: NonNullable<SSRPropsLike>): Promise<Response>;

// @public (undocumented)
export interface RequestWithCFProperties extends Request {
    // (undocumented)
    cf: IncomingRequestCfProperties;
}

// @internal
export const _SSRPropsEmbed: FC<SSRProviderProps<any>>;

// @public (undocumented)
export type SSRPropsLike = {} | null;

// @public (undocumented)
export interface SSRProviderProps<StaticProps extends NonNullable<SSRPropsLike>> {
    // (undocumented)
    staticProps: StaticProps;
}

// @public (undocumented)
export interface StaticPropsProvider<StaticProps extends NonNullable<SSRPropsLike>> {
    // (undocumented)
    children: ReactNode;
    // (undocumented)
    staticProps: StaticProps;
}

// @public (undocumented)
export const StaticPropsProvider: StaticPropsProviderComponent;

// @public (undocumented)
export type StaticPropsProviderComponent<StaticProps extends NonNullable<SSRPropsLike> = NonNullable<SSRPropsLike>> = FC<StaticPropsProvider<StaticProps>>;

// @public (undocumented)
export const useKeyworkRouter: <V = KeyworkRouterProvider>() => NonNullable<V>;

// @public (undocumented)
export const useMatch: <V = PathMatch<{} | null> | null>() => NonNullable<V>;

// @public (undocumented)
export const useStaticProps: <V = SSRPropsLike>() => NonNullable<V>;

// @public
export type WorkerEnvFetchBinding = {
    fetch: typeof fetch;
};

// @public
export interface WorkersPagesAssetsBinding {
    // (undocumented)
    __STATIC_CONTENT: undefined;
    // (undocumented)
    ASSETS: WorkerEnvFetchBinding;
}

// @public
export interface WorkersSiteStaticContentBinding {
    // (undocumented)
    __STATIC_CONTENT: KVNamespace;
    // (undocumented)
    ASSETS: undefined;
}


export * from "@keywork/utils";

// (No @packageDocumentation comment for this package)

```
