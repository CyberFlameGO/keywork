## API Report File for "keywork"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="@cloudflare/workers-types" />

import type { AssetManifestType } from '@cloudflare/kv-asset-handler/dist/types';
import { PrefixedLogger } from '@keywork/utils';

// @public (undocumented)
export function arrayBufferToBase64(arrayBuffer: ArrayBuffer): string;

export { AssetManifestType }

// @public
export class CachableResponse extends Response {
    constructor(
    body: BodyInit | null,
    request?: Request,
    etag?: string | null,
    cacheControlOptions?: Partial<CacheControlDirectives>,
    headersInit?: HeadersInit);
}

// @public
export interface CacheControlDirectives {
    // (undocumented)
    'max-age': number;
    // (undocumented)
    'must-revalidate': boolean;
    // (undocumented)
    [cacheControlKey: string]: number | boolean | string;
    // (undocumented)
    immutable: boolean;
}

// @public (undocumented)
export type CacheControlHeader = HeadersInit & {
    'Cache-Control': string;
};

// @public (undocumented)
export type ContentTypeHeader = HeadersInit & {
    'Content-Type': string;
};

// @public
export const convertJSONToETaggableString: (value: {}) => string;

// @public (undocumented)
export function createCacheControlHeader(options: Partial<CacheControlDirectives> | undefined): CacheControlHeader;

// @public (undocumented)
export const DEFAULT_SESSION_COOKIE_KEY = "_keyworkSessionID";

// @public (undocumented)
export type DefaultWorkerBindings = WorkersSiteStaticContentBinding | WorkersPagesAssetsBinding;

// @internal
export const _EMPTY_ETAG = "\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"";

// @public (undocumented)
export interface EntityToETagOptions {
    weak?: boolean;
}

// @public
export type EnvironmentBindingKinds = WorkerEnvFetchBinding | KVNamespace | DurableObjectNamespace;

// @public
export class ErrorResponse extends Response {
    constructor(
    status?: number,
    statusText?: string,
    body?: BodyInit | null,
    headersInit?: HeadersInit);
    static fromUnknownError(
    _error: any,
    publicReason?: string): ErrorResponse;
}

// @public
export type ETaggable = string | ArrayBuffer;

// @public
export function fileExtensionToContentTypeHeader(extension: string, mimeTypeFallback?: "txt"): ContentTypeHeader;

// @public
export const fileNameToExtension: (fileName: string) => string;

// @public
export function generateETag(entity: ETaggable, options?: EntityToETagOptions): Promise<string>;

// @public (undocumented)
export function getBrowserIdentifier(request: Request): string;

// @public
export class HTMLResponse extends CachableResponse {
    constructor(
    htmlContent: string | ReadableStream,
    request?: Request,
    etag?: string,
    cacheControlOptions?: CacheControlDirectives,
    headersInit?: HeadersInit);
}

// @internal (undocumented)
export type _HTTPMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE' | 'HEAD' | 'OPTIONS';

// @public
export interface IncomingRequestData<BoundAliases extends {} | null = null> {
    readonly context: ExecutionContext;
    readonly env: BoundAliases extends null ? DefaultWorkerBindings : BoundAliases & DefaultWorkerBindings;
    readonly request: RequestWithCFProperties;
    // @beta (undocumented)
    readonly session: KeyworkSession;
    readonly url: URL;
}

// @public
export function isETagMatch(request: Request, etag: string | null | undefined): etag is string;

// @public (undocumented)
export function isRequestLike(requestish: unknown): requestish is RequestLike;

// @public (undocumented)
export function isURLLike(urlish: unknown): urlish is URLLike;

// @public
export class JSONResponse extends CachableResponse {
    constructor(
    json: {},
    request?: Request,
    etag?: string,
    cacheControlOptions?: CacheControlDirectives,
    headersInit?: HeadersInit,
    pretty?: boolean);
}

// @beta
export class KeyworkAssetHandler extends KeyworkRequestHandler<WorkersSiteStaticContentBinding> {
    constructor(rawAssetManifest: string);
    // (undocumented)
    protected assetManifest: AssetManifestType;
    // (undocumented)
    onRequestGet: ({ env, request, context }: IncomingRequestData<WorkersSiteStaticContentBinding>) => Promise<Response>;
}

// @public
export abstract class KeyworkRequestHandler<BoundAliases extends {} | null = null, StaticProps extends {} | null = null> {
    fetch(
    request: Request,
    env: BoundAliases,
    context: ExecutionContext): Promise<Response> | Response;
    getStaticProps?(data: IncomingRequestData<BoundAliases>): PossiblePromise<StaticProps>;
    logger: PrefixedLogger;
    // @internal (undocumented)
    _onInvalidRequest: ({ request }: IncomingRequestData<BoundAliases>) => ErrorResponse;
    onRequest?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestDelete?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestGet?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    // @internal (undocumented)
    protected _onRequestGetReactComponent(_data: IncomingRequestData<BoundAliases>): Promise<HTMLResponse>;
    onRequestHead?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestOptions?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestPatch?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestPost?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
    onRequestPut?(data: IncomingRequestData<BoundAliases>): PossiblePromise<Response>;
}

// @public
export class KeyworkSession {
    constructor(request: Request, cookieKey?: string);
    // (undocumented)
    assignSessionHeaders(headers: Headers): void;
    // (undocumented)
    cookieKey: string;
    // (undocumented)
    readonly isNewSession: boolean;
    // (undocumented)
    sessionID: string;
}

// @public
export function matchPath<ExpectedParams extends {} | null, Path extends string>(pattern: PathPattern<Path> | Path, pathname: string): PathMatch<ExpectedParams> | null;

// @internal (undocumented)
export type _Mutable<T> = {
    -readonly [P in keyof T]: T[P];
};

// @public
export class NotModifiedResponse extends Response {
    constructor(etag: string);
}

// @internal (undocumented)
export type _ParamParseFailed = {
    failed: true;
};

// @internal
export type _ParamParseKey<Segment extends string> = _ParamParseSegment<Segment> extends string ? _ParamParseSegment<Segment> : string;

// @internal (undocumented)
export type _ParamParseSegment<Segment extends string> = Segment extends `${infer LeftSegment}/${infer RightSegment}` ? _ParamParseSegment<LeftSegment> extends infer LeftResult ? _ParamParseSegment<RightSegment> extends infer RightResult ? LeftResult extends string ? RightResult extends string ? LeftResult | RightResult : LeftResult : RightResult extends string ? RightResult : _ParamParseFailed : _ParamParseFailed : _ParamParseSegment<RightSegment> extends infer RightResult ? RightResult extends string ? RightResult : _ParamParseFailed : _ParamParseFailed : Segment extends `:${infer Remaining}` ? Remaining : _ParamParseFailed;

// @public
export type ParsedPathParams<Key extends string = string> = {
    readonly [key in Key]: string | undefined;
};

// @public
export function parsePathname<ExpectedParams extends {} | null>(pattern: PathPattern<string> | string, urlOrRequest: Pick<Request, 'url'> | string | URL): PathMatch<ExpectedParams>;

// @public
export interface PathMatch<ExpectedParams extends {} | null = null> {
    params: ExpectedParams;
    pathname: string;
    pathnameBase: string;
    pattern: PathPattern;
}

// @public
export interface PathPattern<Path extends string = string> {
    caseSensitive?: boolean;
    end?: boolean;
    path: Path;
}

// @public (undocumented)
export type PossiblePromise<T> = T | Promise<T>;

// @public
export class RedirectHandler extends KeyworkRequestHandler {
    constructor(
    destinationURL: string | URL,
    statusCode?: number);
    destinationURL: string | URL;
    // (undocumented)
    onRequest: ({ request }: IncomingRequestData) => Response;
    statusCode: number;
}

// @public (undocumented)
export type RequestLike = Pick<Request, 'url'>;

// @public (undocumented)
export interface RequestWithCFProperties extends Request {
    // (undocumented)
    cf: IncomingRequestCfProperties;
}

// @public (undocumented)
export type URLLike = Pick<URL, 'pathname'>;

// @public
export type WorkerEnvFetchBinding = {
    fetch: typeof fetch;
};

// @public
export interface WorkersPagesAssetsBinding {
    // (undocumented)
    __STATIC_CONTENT: undefined;
    // (undocumented)
    ASSETS: WorkerEnvFetchBinding;
}

// @public
export interface WorkersSiteStaticContentBinding {
    // (undocumented)
    __STATIC_CONTENT: KVNamespace;
    // (undocumented)
    ASSETS: undefined;
}

// (No @packageDocumentation comment for this package)

```
